# Buyma Insider

## TODO:
- Add merchant index gateway that will scrape index pages
- Add indexer persistent models

## SETUP

- Unicorn in development can be run with local launch command
- Nginx has to be setup in production, but locally
  unicorn is directly listening on port 5000 and
  localhost, so nginx don't have to be setup
- Daemonize command option is not added for unicorn, but
  could be if needed, just modify Procfile
- Make sure to set the ENVIRONMENT variable when running elsewhere
```

### Docker
- rethinkdb

docker run --name rethinkdb -p 8080:8080 -p 28015:28015 --rm greyarch/rethinkdb

- elasticsearch

docker run --name elastic -p 9200:9200 -p 9300:9300 --rm -e ES_JAVA_OPTS='-Xms1g -Xmx1g' elasticsearch:latest

### Local
- unicorn

ENVIRONMENT=development be unicorn -c config/unicorn.rb -E $ENVIRONMENT -d --host localhost --port 5000

- pry

be pry -Iapp -rbuyma_insider

## NOTE

- Use be ruby to run patches instead of pry, pry screws up sometimes the format

## REST API endpoint used by frontend

/exchange_rates/latest
/crawl_sessions
